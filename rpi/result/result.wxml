<!-- RPIæµ‹è¯•ç»“æœé¡µ -->
<view class="rpi-result-container">
  <!-- èƒŒæ™¯æ•ˆæœ -->
  <view class="bg-effect" style="background: {{personality.gradient}};"></view>
  
  <!-- ç»“æœå¡ç‰‡ -->
  <scroll-view class="result-scroll" scroll-y enable-back-to-top>
    <view class="result-card">
      <!-- äººæ ¼æ ‡ç­¾ -->
      <view class="personality-header">
        <view class="code-badge" style="background: {{personality.color}};">
          {{result.code}}
        </view>
        <view class="personality-name" style="color: {{personality.color}};">
          {{personality.name}}
        </view>
        <view class="personality-title">{{personality.title}}</view>
      </view>

      <!-- ç»´åº¦é›·è¾¾ -->
      <view class="dimensions-section">
        <view class="section-title">ä½ çš„å…³ç³»äººæ ¼ç”»åƒ</view>
        <view class="dimensions-bars">
          <view class="dimension-item">
            <view class="dim-label">ä¸»åŠ¨æ€§</view>
            <view class="dim-bar">
              <view class="dim-fill" style="width: {{result.scores.A}}%; background: linear-gradient(90deg, #FF6B6B, #4ECDC4);"></view>
            </view>
            <view class="dim-value">{{result.scores.A}}%</view>
          </view>
          <view class="dimension-item">
            <view class="dim-label">è¡¨è¾¾æ–¹å¼</view>
            <view class="dim-bar">
              <view class="dim-fill" style="width: {{result.scores.D}}%; background: linear-gradient(90deg, #4ECDC4, #45B7D1);"></view>
            </view>
            <view class="dim-value">{{result.scores.D}}%</view>
          </view>
          <view class="dimension-item">
            <view class="dim-label">è¾¹ç•Œæ„Ÿ</view>
            <view class="dim-bar">
              <view class="dim-fill" style="width: {{result.scores.B}}%; background: linear-gradient(90deg, #96CEB4, #00FF88);"></view>
            </view>
            <view class="dim-value">{{result.scores.B}}%</view>
          </view>
          <view class="dimension-item">
            <view class="dim-label">å†²çªå¤„ç†</view>
            <view class="dim-bar">
              <view class="dim-fill" style="width: {{result.scores.C}}%; background: linear-gradient(90deg, #FFA502, #FF4757);"></view>
            </view>
            <view class="dim-value">{{result.scores.C}}%</view>
          </view>
        </view>
      </view>

      <!-- æ ‡ç­¾äº‘ -->
      <view class="tags-section">
        <view class="tag-item" wx:for="{{personality.tags}}" wx:key="index">
          {{item}}
        </view>
      </view>

      <!-- è§£è¯»å†…å®¹ -->
      <view class="content-section">
        <view class="summary">{{personality.summary}}</view>
        <view class="detail-content">{{personality.content}}</view>
      </view>

      <!-- å¹¿å‘Šä½ -->
      <view class="ad-section">
        <view class="ad-label">å¹¿å‘Š</view>
        <view class="ad-placeholder">
          <text class="ad-text">å¹¿å‘Šä½é¢„ç•™</text>
          <text class="ad-subtext">æ¥å…¥å¾®ä¿¡å¹¿å‘Šç»„ä»¶åå¯å±•ç¤º</text>
        </view>
      </view>

      <!-- åº•éƒ¨é—´è· -->
      <view class="bottom-spacing"></view>
    </view>
  </scroll-view>

  <!-- åº•éƒ¨æ“ä½œæ  -->
  <view class="action-bar">
    <button class="action-btn share" open-type="share">
      <text class="btn-icon">â†—</text>
      <text class="btn-label">åˆ†äº«</text>
    </button>
    <button class="action-btn save" bindtap="saveImage">
      <text class="btn-icon">ğŸ’¾</text>
      <text class="btn-label">ä¿å­˜å›¾ç‰‡</text>
    </button>
    <button class="action-btn retry" bindtap="retake">
      <text class="btn-icon">â†»</text>
      <text class="btn-label">å†æµ‹ä¸€æ¬¡</text>
    </button>
  </view>

  <!-- åˆ†äº«å¡ç‰‡é¢„è§ˆ -->
  <view class="share-modal {{showShareModal ? 'show' : ''}}">
    <view class="modal-mask" bindtap="hideShareModal"></view>
    <view class="modal-content">
      <view class="share-card" id="shareCard">
        <view class="card-header" style="background: {{personality.gradient}};">
          <text class="card-code">{{result.code}}</text>
          <text class="card-name">{{personality.name}}</text>
        </view>
        <view class="card-body">
          <text class="card-title">{{personality.title}}</text>
          <text class="card-summary">{{personality.summary}}</text>
          <view class="card-tags">
            <text wx:for="{{personality.tags}}" wx:key="index">{{item}}</text>
          </view>
        </view>
        <view class="card-footer">
          <text class="card-qr">æ‰«ç æµ‹æµ‹ä½ çš„å…³ç³»äººæ ¼</text>
          <view class="card-logo">RPI</view>
        </view>
      </view>
      <view class="modal-actions">
        <button class="modal-btn" bindtap="hideShareModal">å…³é—­</button>
      </view>
    </view>
  </view>
</view>
